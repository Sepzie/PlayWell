# PlayWell Build Setup Guide

## First Time Setup (New Clone / New Device)

When you clone this repository or set it up on a new device, follow these steps:

### 1. Install Dependencies
```bash
npm install
```

This will automatically:
- Install all npm packages
- Run `postinstall` hook which generates the Prisma client

### 2. Verify Prisma Client Generation
The Prisma client should be automatically generated in the `prisma-client/` folder. If not, run:
```bash
npm run prisma:generate
```

### 3. Build the Application
```bash
npm run build
```

This creates the distributable Electron app in the `release/` folder.

## Development Workflow

### Running in Development Mode
```bash
npm run dev
```

This starts:
- Vite dev server for React (port 5173)
- Electron app in development mode

### Building for Production
```bash
npm run build
```

**Note**: Always run `npm run prisma:generate` after:
- Cloning the repo (done automatically via `postinstall`)
- Modifying `prisma/schema.prisma`
- Pulling schema changes from git

## Important Files & Folders

### DO NOT Commit
- `prisma-client/` - Auto-generated by Prisma, excluded in `.gitignore`
- `node_modules/` - Managed by npm
- `dist/` - Vite build output
- `release/` - Electron packaged builds
- `prisma/main.db` - Local database file

### DO Commit
- `prisma/schema.prisma` - Database schema definition
- `package.json` & `package-lock.json` - Dependency definitions

## Troubleshooting

### "Cannot find module '.prisma/client'" or similar Prisma errors
Run:
```bash
npm run prisma:generate
```

### Build Fails with "resource busy or locked"
Close any running instances of the app and try again.

### React Components Not Loading in Built App
Check the DevTools console (opens automatically in built app for debugging). Common issues:
- Missing Prisma client (see above)
- Path resolution errors

### Database Issues
Reset the database:
```bash
npm run db:reset
```

Seed with test data:
```bash
npm run db:seed
```

## Scripts Reference

- `npm run dev` - Start development mode
- `npm run build` - Build production app
- `npm run prisma:generate` - Regenerate Prisma client
- `npm run prisma:migrate` - Run database migrations
- `npm run prisma:studio` - Open Prisma Studio (database GUI)
- `npm run db:reset` - Reset database to initial state
- `npm run db:seed` - Seed database with test data
